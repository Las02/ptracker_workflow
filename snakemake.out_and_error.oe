Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 8
Rules claiming more threads will be scaled down.
Job stats:
job                           count
--------------------------  -------
all                               1
classify_bins_with_geNomad        1
rename_clusters_and_hoods         1
total                             3

Select jobs to execute...

[Fri May 17 14:39:26 2024]
rule classify_bins_with_geNomad:
    input: outdir_plamb/Urogenital/tmp/geNomad/contigs.flt_aggregated_classification/contigs.flt_aggregated_classification.tsv, outdir_plamb/Urogenital/log/run_vamb_asymmetric.finished, outdir_plamb/Urogenital/log/run_geNomad.finished, outdir_plamb/Urogenital/vamb_asymmetric/vae_clusters_unsplit.tsv, data/sample_Urogenital/contigs.names.sorted, outdir_plamb/Urogenital/vamb_asymmetric/lengths.npz
    output: outdir_plamb/Urogenital/vamb_asymmetric/vae_clusters_within_radius_with_looners_complete_unsplit_candidate_plasmids.tsv, outdir_plamb/Urogenital/log/classify_bins_with_geNomad.finished
    log: outdir_plamb/Urogenital/qsub/classify_bins_with_geNomad.out, outdir_plamb/Urogenital/qsub/classify_bins_with_geNomad.err
    jobid: 2
    reason: Missing output files: outdir_plamb/Urogenital/log/classify_bins_with_geNomad.finished
    wildcards: key=Urogenital
    resources: tmpdir=/tmp, mem=1GB, mem_mb=1000


        python bin/ptracker/src/workflow/src/classify_bins_with_geNomad.py --clusters outdir_plamb/vamb_asymmetric/vae_clusters_within_radius_with_looners_complete_unsplit.tsv         --dflt_cls outdir_plamb/vamb_asymmetric/vae_clusters_unsplit.tsv --scores outdir_plamb/Urogenital/tmp/geNomad/contigs.flt_aggregated_classification/contigs.flt_aggregated_classification.tsv --outp outdir_plamb/Urogenital/vamb_asymmetric/vae_clusters_within_radius_with_looners_complete_unsplit_candidate_plasmids.tsv --lengths outdir_plamb/Urogenital/vamb_asymmetric/lengths.npz --contignames data/sample_Urogenital/contigs.names.sorted
        touch outdir_plamb/Urogenital/log/classify_bins_with_geNomad.finished
        
Traceback (most recent call last):
  File "/maps/projects/rasmussen/scratch/ptracker/ptracker/bin/ptracker/src/workflow/src/classify_bins_with_geNomad.py", line 104, in <module>
    clusters_arr = np.loadtxt(args.clusters, skiprows=1, dtype=object)
  File "/home/bxc755/bxc755/miniconda3/envs/ptracker_pipeline4/lib/python3.9/site-packages/numpy/lib/npyio.py", line 1356, in loadtxt
    arr = _read(fname, dtype=dtype, comment=comment, delimiter=delimiter,
  File "/home/bxc755/bxc755/miniconda3/envs/ptracker_pipeline4/lib/python3.9/site-packages/numpy/lib/npyio.py", line 975, in _read
    fh = np.lib._datasource.open(fname, 'rt', encoding=encoding)
  File "/home/bxc755/bxc755/miniconda3/envs/ptracker_pipeline4/lib/python3.9/site-packages/numpy/lib/_datasource.py", line 193, in open
    return ds.open(path, mode, encoding=encoding, newline=newline)
  File "/home/bxc755/bxc755/miniconda3/envs/ptracker_pipeline4/lib/python3.9/site-packages/numpy/lib/_datasource.py", line 533, in open
    raise FileNotFoundError(f"{path} not found.")
FileNotFoundError: outdir_plamb/vamb_asymmetric/vae_clusters_within_radius_with_looners_complete_unsplit.tsv not found.
[Fri May 17 14:39:43 2024]
Error in rule classify_bins_with_geNomad:
    jobid: 2
    input: outdir_plamb/Urogenital/tmp/geNomad/contigs.flt_aggregated_classification/contigs.flt_aggregated_classification.tsv, outdir_plamb/Urogenital/log/run_vamb_asymmetric.finished, outdir_plamb/Urogenital/log/run_geNomad.finished, outdir_plamb/Urogenital/vamb_asymmetric/vae_clusters_unsplit.tsv, data/sample_Urogenital/contigs.names.sorted, outdir_plamb/Urogenital/vamb_asymmetric/lengths.npz
    output: outdir_plamb/Urogenital/vamb_asymmetric/vae_clusters_within_radius_with_looners_complete_unsplit_candidate_plasmids.tsv, outdir_plamb/Urogenital/log/classify_bins_with_geNomad.finished
    log: outdir_plamb/Urogenital/qsub/classify_bins_with_geNomad.out, outdir_plamb/Urogenital/qsub/classify_bins_with_geNomad.err (check log file(s) for error details)
    shell:
        
        python bin/ptracker/src/workflow/src/classify_bins_with_geNomad.py --clusters outdir_plamb/vamb_asymmetric/vae_clusters_within_radius_with_looners_complete_unsplit.tsv         --dflt_cls outdir_plamb/vamb_asymmetric/vae_clusters_unsplit.tsv --scores outdir_plamb/Urogenital/tmp/geNomad/contigs.flt_aggregated_classification/contigs.flt_aggregated_classification.tsv --outp outdir_plamb/Urogenital/vamb_asymmetric/vae_clusters_within_radius_with_looners_complete_unsplit_candidate_plasmids.tsv --lengths outdir_plamb/Urogenital/vamb_asymmetric/lengths.npz --contignames data/sample_Urogenital/contigs.names.sorted
        touch outdir_plamb/Urogenital/log/classify_bins_with_geNomad.finished
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2024-05-17T143919.141506.snakemake.log
SNAKEDIR bin/ptracker/src/workflow
